<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:Tag="http://Tag"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default}"
	  layout:fragment="content">

<script>
	function fnSave() {
		document.detailForm.action = "/function/fileupload/insertFileInfo.do?menu1=1&menu2=1&menu3=0";
		document.detailForm.submit();
	}

	function fnReset() {
		document.detailForm.action = "/function/fileupload/fileUploadForm.do?menu1=1&menu2=1&menu3=0";
		document.detailForm.submit();
	}
</script>

<div id="LblockBody">
	<div id="LblockPageHeader">
		<div id="LblockPageTitle">
			<h1>File Upload</h1>
		</div>

		<div id="LblockPageLocation">
			<ul>
				<li class="Lfirst"><span><a href="#">HOME</a></span></li>
				<li><span><a href="#">Function</a></span></li>
				<li><span><a href="#">Presentation</a></span></li>
				<li class="Llast"><span>File Upload</span></li>
			</ul>
		</div>

	</div>
	<div id="LblockBodyMain">
<!--		<th:block Tag:saymessage/>-->
		<div id="LblockContent01" class="LblockContent">
			FileUpload는 FileUploadPloicy를 적용하여 파일을 지정한 폴더에 저장한다.<br>
			upload된 파일 정보는 File DownLoad 메뉴를 통해 확인할 수 있습니다. <br>
			<br>
			<ul>
				<li>Wiki : <a href="http://www.dev-on.com/devonframe/wiki/doku.php?id=devonboot:component:online:fileupload" target="_blank">fileupload</a>	</li>
				<br>
				<li>설정</li>
				- yml 설정 : /resources/application.yml(Prefix: devon.resolver.exception)<br/>
				- Mybatis Mapper 파일 : /resources/sql/h2/function/sql-fileInfo.xml
				<br>
			</ul>
			<br>
			allow pattern : * , deny pattern : *.ext, *.jsp
		</div>

		<form name="detailForm" id="detailForm" method="post" enctype="multipart/form-data">
			<th:block Tag:savedToken="request" />
			<div id="LblockDetail01" class="LblockDetail">
				<table summary="파일 상세정보">
					<caption>파일 상세정보</caption>
					<colgroup>
						<col style="width: 15%;" />
						<col style="width: 35%;" />
						<col style="width: 15%;" />
						<col style="width: 35%;" />
					</colgroup>
					<tbody>
					<tr>
						<th>파일선택</th>
						<td colspan="3"><input type="file" id="uploadFile"	name="uploadFile" class="Lbtn"></td>
					</tr>
					<tr>
						<th>파일명</th>
						<td th:text="${fileInfo.fileName}"/>
						<th>파일크기</th>
						<td th:text="${fileInfo.fileSize+'Bytes'}">
					</tr>
					<tr>
						<th>업로드파일경로</th>
						<td colspan="3" th:text="${fileInfo.uploadFilePath}"/>
					</tr>
					<tr>
						<th>업로드파일명</th>
						<td th:text="${fileInfo.uploadFileName}"/>
						<th>업로드일자</th>
						<td th:text="${fileInfo.uploadDate}"/>
					</tr>
					</tbody>
				</table>
			</div>
		</form>
	</div>

	<div id="LblockButton">
		<a class="Lbtn" href="#" onclick="fnSave();return false;">
			<span>save</span></a>
		<a class="Lbtn" href="#" onclick="fnReset();return false;"><span>초기화</span></a>
	</div>
</div>